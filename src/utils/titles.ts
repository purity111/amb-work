export const PAGE_TITLES = {
  // Main pages
  home: {
    title: 'リユース転職｜買取・バイヤーの求人・転職はリユース業界専門サイト',
    description: 'AMB転職支援サービス - あなたの次のキャリアチャンスを見つけましょう。豊富な求人情報とキャリアコンサルティングで、理想の転職をサポートします。',
    keywords: '転職, 求人, キャリア, 就職, 仕事, 転職支援, キャリアコンサルティング, 求人情報'
  },
  
  // About pages
  about: {
    title: '会社概要 | リユース転職',
    description: 'AMBの会社概要をご紹介します。転職支援サービスの理念、実績、そして私たちが提供する価値について詳しく説明します。',
    keywords: '会社概要, AMB, 転職支援, 企業情報, 理念'
  },
  
  // Job related pages
  jobs: {
    title: '求人情報 | リユース転職',
    description: '豊富な求人情報をお探しください。業界、職種、地域別に検索できる求人情報で、理想の転職先を見つけましょう。',
    keywords: '求人情報, 転職, 求人検索, 職種, 業界'
  },
  jobOpenings: {
    title: 'リユース・リサイクル・買取業界専門の求人・転職サービス リユース転職',
    description: '公開求人数{求人数}件。ブランド品・時計・アパレルなど未経験歓迎求人も多数！リユース業界でのキャリアを徹底サポート。',
    keywords: '求人一覧, 求人検索, 転職, 職種別求人'
  },
  
  // MyPage sections
  mypage: {
    title: 'マイページ | リユース転職',
    description: 'AMBのマイページです。応募履歴、お気に入り求人、プロフィール管理など、転職活動を効率的に進められます。',
    keywords: 'マイページ, 応募履歴, お気に入り, プロフィール'
  },
  mypageProfile: {
    title: 'プロフィール編集 | リユース転職',
    description: 'プロフィール情報を編集できます。詳細な職歴やスキルを登録して、より良い求人とのマッチングを実現しましょう。',
    keywords: 'プロフィール編集, 職歴, スキル, 自己PR'
  },
  mypageApplications: {
    title: '応募管理 | リユース転職',
    description: '応募履歴を管理できます。応募状況の確認や進捗管理で、転職活動を効率的に進めましょう。',
    keywords: '応募管理, 応募履歴, 進捗管理, 転職活動'
  },
  mypageFavorites: {
    title: 'お気に入り求人 | リユース転職',
    description: 'お気に入りに登録した求人情報を確認できます。気になる求人を保存して、じっくり検討しましょう。',
    keywords: 'お気に入り求人, 保存求人, 気になる求人'
  },
  
  // Business pages
  business: {
    title: 'リユース業界について知る | リユース転職',
    description: 'リユース・リサイクル・買取業界について詳しく知ることができます。業界の動向、取り扱い領域、成長性について解説します。',
    keywords: 'リユース業界, リサイクル, 買取業界, 業界動向, 取り扱い領域'
  },
  businessNew: {
    title: '最新動向、採用状況 | リユース転職',
    description: '2024年最新のリユース・リサイクル・買取業界の動向と採用状況について詳しく解説します。',
    keywords: '最新動向, 採用状況, リユース業界, 2024年, 市場動向'
  },
  
  // Career counseling
  careerCounseling: {
    title: '転職支援サービス | リユース転職',
    description: '専門のキャリアコンサルタントがあなたの転職をサポートします。個別相談で理想のキャリアプランを一緒に考えましょう。',
    keywords: 'キャリアコンサルティング, 転職相談, キャリアプラン, 個別相談'
  },
  
  // Experience pages
  experience: {
    title: '経験者サポート | リユース転職',
    description: 'リユース・リサイクル・買取業界で経験がある方向けの転職支援サービスです。よりキャリアを上げる転職をサポートします。',
    keywords: '経験者サポート, 転職支援, キャリアアップ, リユース業界'
  },
  inexperience: {
    title: '未経験者サポート | リユース転職',
    description: 'リユース・リサイクル・買取業界への未経験者向け転職支援サービスです。業界への第一歩をサポートします。',
    keywords: '未経験者サポート, 転職支援, 業界未経験, リユース業界'
  },
  
  // Recruiter pages
  recruiter: {
    title: '採用担当者の方へ | リユース転職',
    description: '企業の採用担当者向けサービスです。リユース・リサイクル・買取業界に特化した人材紹介・採用支援を提供します。',
    keywords: '採用担当者, 人材紹介, 採用支援, 企業向けサービス'
  },
  
  // Test pages
  simplifiedTest: {
    title: '真贋スキル簡易テスト | リユース転職',
    description: '無料・簡単15分で真贋スキルをチェックできるテストです。ブランド品・時計・貴金属の真贋鑑定力を総合的に判定します。',
    keywords: '真贋スキル, 簡易テスト, 鑑定力, ブランド品, 時計, 貴金属'
  },
  
  // Company pages
  company: {
    title: '会社概要 | リユース転職',
    description: '株式会社AMBソリューションズの会社概要です。リユース・リサイクル・買取業界専門の転職支援サービスを提供しています。',
    keywords: '会社概要, AMBソリューションズ, 企業情報, 代表取締役'
  },
  
  // Works pages
  works: {
    title: '仕事・スキルについて知る | リユース転職',
    description: 'リユース・リサイクル・買取業界の仕事内容や必要なスキルについて詳しく解説します。接客、営業、バイヤー、EC・ロジスティクスなど。',
    keywords: '仕事内容, スキル, 接客, 営業, バイヤー, EC, ロジスティクス, リユース業界'
  },
  
  // Columns pages
  columns: {
    title: 'コラム一覧 | リユース転職',
    description: 'リユース・リサイクル・買取業界に関するコラム記事一覧です。業界動向、スキルアップ方法、転職活動ノウハウなどを掲載。',
    keywords: 'コラム, 業界動向, スキルアップ, 転職活動, リユース業界'
  },
  
  // Contact pages
  contact: {
    title: 'お問い合わせ | リユース転職',
    description: 'AMBへのお問い合わせはこちらから。転職に関するご相談やサービスについてのご質問を承ります。',
    keywords: 'お問い合わせ, 転職相談, サービス問い合わせ'
  },
  
  // Legal pages
  privacy: {
    title: 'プライバシーポリシー | リユース転職',
    description: 'AMBのプライバシーポリシーです。個人情報の取り扱いについて詳しく説明しています。',
    keywords: 'プライバシーポリシー, 個人情報, データ保護'
  },
  terms: {
    title: '利用規約 | リユース転職',
    description: 'AMBの利用規約です。サービスの利用条件について詳しく説明しています。',
    keywords: '利用規約, 利用条件, サービス規約'
  }
};

export const getPageTitle = (page: keyof typeof PAGE_TITLES) => {
  return PAGE_TITLES[page] || PAGE_TITLES.home;
};

// Import necessary constants for filter parsing
import { MapData } from "./constants";
import { OccupationOptions, JobItemOptions, JobConditionOptions } from "./constants";

// Function to get filter display names
const getFilterDisplayNames = (segments: string[]) => {
  const [prefectures, jobTypes, items, conditions, employmentTypes] = segments;
  const filterNames: string[] = [];

  // Parse prefectures
  if (prefectures && prefectures !== '-') {
    const pArray = prefectures.split('-');
    pArray.forEach(p => {
      const find = MapData.flatMap(region => region.city).find((city) => encodeURIComponent(city.text) === p);
      if (find) filterNames.push(find.text);
    });
  }

  // Parse job types (occupations)
  if (jobTypes && jobTypes !== '-') {
    const jArray = jobTypes.split('-');
    jArray.forEach(j => {
      const find = OccupationOptions.find(option => encodeURIComponent(option.option) === j);
      if (find) filterNames.push(find.option);
    });
  }

  // Parse items
  if (items && items !== '-') {
    const iArray = items.split('-');
    iArray.forEach(i => {
      const find = JobItemOptions.find(option => encodeURIComponent(option.option) === i);
      if (find) filterNames.push(find.option);
    });
  }

  // Parse conditions
  if (conditions && conditions !== '-') {
    const cArray = conditions.split('-');
    cArray.forEach(c => {
      const find = JobConditionOptions.find(option => encodeURIComponent(option.option) === c);
      if (find) filterNames.push(find.option);
    });
  }

  // Parse employment types
  if (employmentTypes && employmentTypes !== '-') {
    const eArray = employmentTypes.split('-');
    eArray.forEach(e => {
      const find = JobConditionOptions.find(option => encodeURIComponent(option.option) === e);
      if (find) filterNames.push(find.option);
    });
  }

  return filterNames;
};

// Function to generate dynamic title and description based on filters
export const getDynamicJobPageInfo = (segments: string[], jobCount: number = 0) => {
  const filterNames = getFilterDisplayNames(segments);
  
  // If no filters applied, return default
  if (filterNames.length === 0) {
    const countText = jobCount > 0 ? `${jobCount}件` : '多数';
    return {
      title: 'リユース・リサイクル・買取業界専門の求人・転職サービス リユース転職',
      description: `公開求人数${countText}。ブランド品・時計・アパレルなど未経験歓迎求人も多数！リユース業界でのキャリアを徹底サポート。`,
      keywords: '求人一覧, 求人検索, 転職, 職種別求人, リユース業界, 買取業界'
    };
  }

  // Take up to 3 filters for display
  const displayFilters = filterNames.slice(0, 3);
  const filterString = displayFilters.join('・');
  
  // Generate title
  let title: string;
  if (displayFilters.length === 1) {
    // Single filter: "東京のバイヤー求人・転職情報｜リユース・リサイクル業界専門の転職サービス リユース転職"
    title = `${filterString}の求人・転職情報｜リユース・リサイクル業界専門の転職サービス リユース転職`;
  } else {
    // Multiple filters: "{検索条件}の転職・求人情報｜リユース・リサイクル・買取業界専門の転職サービス リユース転職"
    title = `${filterString}の転職・求人情報｜リユース・リサイクル・買取業界専門の転職サービス リユース転職`;
  }

  // Generate description
  const countText = jobCount > 0 ? `${jobCount}件` : '多数';
  const description = `${filterString}の求人検索結果：公開求人数${countText}。「年間休日120日以上」「リモートOK」など、条件に合った検索ができます。ブランド品・時計・アパレルなど未経験歓迎求人も多数！リユース・リサイクル・買取業界専門の転職サービス リユース転職があなたのキャリアを徹底サポートします。`;

  // Generate keywords
  const keywords = `${filterString}, 求人検索, 転職, リユース業界, 買取業界, ${displayFilters.join(', ')}`;

  return {
    title,
    description,
    keywords
  };
};
